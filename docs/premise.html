<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>1 前提知識 | がんばらないデータ加工</title>
<meta name="author" content="やわらかクジラ">
<meta name="generator" content="bookdown 0.32 with bs4_book()">
<meta property="og:title" content="1 前提知識 | がんばらないデータ加工">
<meta property="og:type" content="book">
<meta property="og:image" content="/images/cover.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="1 前提知識 | がんばらないデータ加工">
<meta name="twitter:image" content="/images/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="bs4_style.css">
<meta name="description" content="ここに出てくる用語は初学者にとってなじみがないものばかりかもしれないが，Rでなるべくがんばらず（人力に頼らず）にデータ加工をできるようになるためには避けて通れない これ以降はここで解説した用語を説明なしに解説に使うので，分からない言葉に出くわしたらここに戻ってこよう  1.1 RStudioの使い方  1.1.1 起動画面...">
<meta property="og:description" content="ここに出てくる用語は初学者にとってなじみがないものばかりかもしれないが，Rでなるべくがんばらず（人力に頼らず）にデータ加工をできるようになるためには避けて通れない これ以降はここで解説した用語を説明なしに解説に使うので，分からない言葉に出くわしたらここに戻ってこよう  1.1 RStudioの使い方  1.1.1 起動画面...">
<meta name="twitter:description" content="ここに出てくる用語は初学者にとってなじみがないものばかりかもしれないが，Rでなるべくがんばらず（人力に頼らず）にデータ加工をできるようになるためには避けて通れない これ以降はここで解説した用語を説明なしに解説に使うので，分からない言葉に出くわしたらここに戻ってこよう  1.1 RStudioの使い方  1.1.1 起動画面...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="Rによるくり返し作業入門 前編">がんばらないデータ加工</a>:
        <small class="text-muted">Rによるくり返し作業入門 前編</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">はじめに</a></li>
<li><a class="active" href="premise.html"><span class="header-section-number">1</span> 前提知識</a></li>
<li><a class="" href="select.html"><span class="header-section-number">2</span> 列（変数）を選ぶ：select</a></li>
<li><a class="" href="rename.html"><span class="header-section-number">3</span> 列（変数）名を変更する：rename</a></li>
<li><a class="" href="filter.html"><span class="header-section-number">4</span> 行（ケース）を選ぶ：filter</a></li>
<li><a class="" href="mutate.html"><span class="header-section-number">5</span> 新しい変数（列）の作成：mutate</a></li>
<li><a class="" href="summarise.html"><span class="header-section-number">6</span> 要約値を作る：summarise</a></li>
<li><a class="" href="atogaki.html">あとがき</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/izunyan/gisho12.git">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="premise" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> 前提知識<a class="anchor" aria-label="anchor" href="#premise"><i class="fas fa-link"></i></a>
</h1>
<ul>
<li>ここに出てくる用語は初学者にとってなじみがないものばかりかもしれないが，Rでなるべくがんばらず（人力に頼らず）にデータ加工をできるようになるためには避けて通れない</li>
<li>これ以降はここで解説した用語を説明なしに解説に使うので，分からない言葉に出くわしたらここに戻ってこよう</li>
</ul>
<div id="p-howtouse-rst" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> RStudioの使い方<a class="anchor" aria-label="anchor" href="#p-howtouse-rst"><i class="fas fa-link"></i></a>
</h2>
<div id="p-opening" class="section level3" number="1.1.1">
<h3>
<span class="header-section-number">1.1.1</span> 起動画面<a class="anchor" aria-label="anchor" href="#p-opening"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>RStudioを最初に起動すると大体Figure<a href="premise.html#fig:start">1.1</a>のような画面になる</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:start"></span>
<img src="images/start.png" alt="RStudioの起動画面" width="80%"><p class="caption">
Figure 1.1: RStudioの起動画面
</p>
</div>
</div>
<div id="p-theme" class="section level3" number="1.1.2">
<h3>
<span class="header-section-number">1.1.2</span> 見た目の変更<a class="anchor" aria-label="anchor" href="#p-theme"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>好みまたは目に優しい画面にするため，RStudioの色合いを下記から変更できる
<ul>
<li>メニューの<code>Tools &gt; Global Options &gt; Appearance &gt; Editor theme</code>から選び，OKを押す（Figure<a href="premise.html#fig:appearance">1.2</a>）</li>
<li>筆者は<code>Tommorow Night Bright</code>を使用</li>
<li>以下の説明は変更後の画面で示す</li>
</ul>
</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:appearance"></span>
<img src="images/appearance.png" alt="テーマの設定画面" width="70%"><p class="caption">
Figure 1.2: テーマの設定画面
</p>
</div>
</div>
<div id="p-howtorun" class="section level3" number="1.1.3">
<h3>
<span class="header-section-number">1.1.3</span> コードの実行の仕方<a class="anchor" aria-label="anchor" href="#p-howtorun"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>コンソールに直接コードを入力し出力を確認できる（Figure<a href="premise.html#fig:pane">1.3</a>）
<ul>
<li>ちょっとした確認には便利だが，たくさん書きたい時や，内容を保存したい時は不向き</li>
</ul>
</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:pane"></span>
<img src="images/pane.png" alt="コンソールに直接" width="70%"><p class="caption">
Figure 1.3: コンソールに直接
</p>
</div>
<ul>
<li>R Scriptに書くと，たくさん書けるし保存も簡単でおすすめ。色分けもされる</li>
<li>慣れたらR Markdownを使うとhtmlレポートにまとめやすくなりもっと便利になる</li>
<li>Figure<a href="premise.html#fig:script">1.4</a>の左上の〇で囲んである緑<code>＋</code>がついているアイコンから，または<code>File &gt; New file &gt; R Script</code>でR Scriptを開く</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:script"></span>
<img src="images/newfile.png" alt="Rスクリプトを開く" width="70%"><p class="caption">
Figure 1.4: Rスクリプトを開く
</p>
</div>
<ul>
<li>R Scriptを開くとデフォルトでは左上にウィンドウ（ペインと呼ばれる）が開き，ここにコードを記述できる（Figure<a href="premise.html#fig:script2">1.5</a>）</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:script2"></span>
<img src="images/rscript.png" alt="Rスクリプトに書く" width="70%"><p class="caption">
Figure 1.5: Rスクリプトに書く
</p>
</div>
</div>
<div id="p-utf8" class="section level3" number="1.1.4">
<h3>
<span class="header-section-number">1.1.4</span> Windowsユーザーにつきものの文字化け対策<a class="anchor" aria-label="anchor" href="#p-utf8"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Windowsだけの問題かもしれず，今後はもしかしたら不要になっていくかもしれないが，Windows10以前の場合，RStudio上で文字コードをUTF-8に指定しておく方が文字化けに悩まなくてすみそう</li>
<li>メニューの<code>Tools &gt; Global Options &gt; Code &gt; Saving &gt; Default text encoding</code>からUTF-8選び，OKを押す（Figure<a href="premise.html#fig:utf8">1.6</a>）</li>
<li>同様に<code>Tools &gt; Project Options &gt; Code Editing &gt; Text encoding</code>のところもUTF-8にしておく</li>
<li>上記設定をした後で，他の環境で作られたR ScriptファイルやR Markdownファイルを開くときに文字化けする場合は，<code>File &gt; Reopen with Encoding</code>からCP932（つまりShift-JIS）を選ぶとうまくいくかもしれない</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:utf8"></span>
<img src="images/utf8.png" alt="文字エンコーディングの指定" width="70%"><p class="caption">
Figure 1.6: 文字エンコーディングの指定
</p>
</div>
</div>
</div>
<div id="p-howtoread" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> 本書に出てくるコード部分の見方<a class="anchor" aria-label="anchor" href="#p-howtoread"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>グレーの背景部分はRのコードが書いてあり，その下の<code>##</code>で始まる部分は出力結果を表す</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span> <span class="op">+</span> <span class="fl">1</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<ul>
<li>ここでは<code>1 + 1</code>がコード部分で，<code>## [1] 2</code>が出力結果部分</li>
<li>
<code>[1]</code>というのは，その次にくる値（ここでは１つしかないが）が何番目にあるかを示している</li>
<li>たとえば，1から50までの数値を出力してみる
<ul>
<li>コロン<code>:</code>で最初と最後の値をつなぐことで連番を表現できる</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span><span class="op">:</span><span class="fl">50</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50</code></pre>
<ul>
<li>コード部分に<code>#</code>で始まる文章がある場合は，コメントを表す。ここは実行されないので説明のために書かれる</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># *（アスタリスク） は掛け算であることを示す</span>

<span class="fl">2</span> <span class="op">*</span> <span class="fl">3</span>  <span class="co"># ここにもコメントを入れられる</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
</div>
<div id="p-package" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> パッケージ<a class="anchor" aria-label="anchor" href="#p-package"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>様々な関数やデータなどがまとまっていて，読み込むと色々なことができる
<ul>
<li>逆にいえば読み込まないと便利な作業ができないことが多い</li>
</ul>
</li>
<li>例えば<code><a href="https://tidyverse.tidyverse.org">library(tidyverse)</a></code>または<code><a href="https://tidyverse.tidyverse.org">require(tidyverse)</a></code> のように書くことで読み込める</li>
<li>パッケージを読み込まなくても，「<code>パッケージ名::関数名()</code>」でパッケージ内の関数が使える
<ul>
<li>どのパッケージの関数か明示するのにも便利なので，本書では多用する</li>
<li>以下，例えば「パッケージ<code>dplyr</code>の関数<code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code>」は<code><a href="https://dplyr.tidyverse.org/reference/select.html">dplyr::select()</a></code>と表現することがある</li>
</ul>
</li>
<li>モダンなRのデータ加工に必須なパッケージをまとめて読み込んでくれる<code>tidyverse</code>をまず読み込んでおく
<ul>
<li>以降のコードはすべて<code>tidyverse</code>を読み込んだ前提で進める</li>
<li>本書では明示しない限り，すべてtidyverseを読み込めば使えるパッケージを用いている</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></code></pre></div>
<ul>
<li>インストールされているパッケージはRStudioのデフォルト画面で右下にあるウィンドウ（ペインと呼ぶ）のパッケージタブで確認可能<br>
</li>
<li>入っていないパッケージは，インターネットにつながっていれば以下の方法でインストールできる
<ul>
<li>パッケージタブの<code>install</code>をクリックして出てくるウィンドウでパッケージ名を入力（Figure<a href="premise.html#fig:pinst">1.7</a>）</li>
<li>コマンドから<code>install.packages("パッケージ名をここに入れる")</code>
</li>
</ul>
</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:pinst"></span>
<img src="images/package_install.png" alt="パッケージタブからのインストール" width="80%"><p class="caption">
Figure 1.7: パッケージタブからのインストール
</p>
</div>
</div>
<div id="p-function" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> 関数<a class="anchor" aria-label="anchor" href="#p-function"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>データ加工においてほとんどの人は絶対お世話になるもの
<ul>
<li>適切な値や変数などを指定すれば，データの処理や計算，統計解析など様々な処理を簡単に実行してくれる</li>
<li>データ加工の技術は，<strong>色々な便利関数をどの場面でどうやって使うか</strong>につきる</li>
</ul>
</li>
<li>例えば<code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>などのように「<code>関数名()</code>」で出てくるので，<code>()</code>で囲まれてる所を見たらほぼ関数だと思えばよさそう
<ul>
<li>本書の2章～6章はすべて基本関数の解説</li>
</ul>
</li>
<li>
<code>()</code>の中に入る値を<strong>引数</strong>（ひきすう）と呼ぶ</li>
<li>引数は「<code>,</code>」でつないで追加していき，これによって実行したい処理のカスタマイズが可能
<ul>
<li>関数の<code>()</code>の最初の位置に来るものを<strong>第一引数</strong>という</li>
</ul>
</li>
<li>関数の<code>()</code>内でtabキーを押せば，欲しいものが出てくることがある
<ul>
<li>例：<code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code>での候補変数，<code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>での引数<code>na.rm =</code>など</li>
</ul>
</li>
</ul>
<div id="p-function-ex" class="section level3" number="1.4.1">
<h3>
<span class="header-section-number">1.4.1</span> 関数の例<a class="anchor" aria-label="anchor" href="#p-function-ex"><i class="fas fa-link"></i></a>
</h3>
<div id="p-function-ex-c" class="section level4" number="1.4.1.1">
<h4>
<span class="header-section-number">1.4.1.1</span> 複数のものを1つにする: c()<a class="anchor" aria-label="anchor" href="#p-function-ex-c"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>
<strong>ベクトル</strong>を作る（複数のものを1つにする）ための関数
<ul>
<li>ベクトルと聞くと数学苦手だった人はいやな記憶を思い出すかもしれないが，Rではとにかく「<strong>複数のものを１つにしたもの</strong>」と理解しておけば何となると思う</li>
</ul>
</li>
<li>
<code><a href="https://rdrr.io/r/base/c.html">c()</a></code>は慣れてる人は当たり前に使っているので，あまり解説されない気がするが，初学者にとってまず理解すべき最重要関数と思われる</li>
<li>ベクトルは，<a href="premise.html#p-df">1.6</a>）で解説するデータフレームでの列単位のデータを扱う際にも有用</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span> <span class="co"># " "で囲まれる値は文字を表す</span></code></pre></div>
<pre><code>## [1] "a" "b" "c"</code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># 複数あるように見えるが実は1つのベクトルになっている例</span>
<span class="fl">1</span><span class="op">:</span><span class="fl">10</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div id="p-function-ex-m" class="section level4" number="1.4.1.2">
<h4>
<span class="header-section-number">1.4.1.2</span> 平均値：mean()<a class="anchor" aria-label="anchor" href="#p-function-ex-m"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>引数にベクトルを入れることで平均値を計算する</li>
<li>1つのベクトルはデータフレームの1つの列（変数）の単位と同じなので，ここでは横に並んでいるがデータフレーム的にイメージしたら縦に並んでるとみなすと分かりやすいかも</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:vectorimage"></span>
<img src="images/vector_image.png" alt="ベクトルのイメージ" width="80%"><p class="caption">
Figure 1.8: ベクトルのイメージ
</p>
</div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># 欠損値（NA）があると結果がNA</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># 引数にna.rm = TRUEを追加すると結果が出る</span>
<span class="co"># 基本的に実務上は常につけておいたほうがよい</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">3</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
</div>
</div>
<div id="p-function-make" class="section level3" number="1.4.2">
<h3>
<span class="header-section-number">1.4.2</span> 【応用編】関数を作る<a class="anchor" aria-label="anchor" href="#p-function-make"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>一連の作業を，値を変えて繰り返したいときに役立つ
<ul>
<li>ここは最初は難しいかもしれないので，飛ばしても差支えないが，知っておくと<a href="rename.html#rename-strreplace1">3.2.1</a>や<a href="mutate.html#mu-across-list">5.4.1</a>の重要知識部分や<a href="summarise.html#su-fun">6.4</a>の理解がしやすくなる</li>
<li>慣れてきてもっと効率的に繰り返し作業したい気分になったら読み返すと役立つ</li>
</ul>
</li>
<li>関数名は任意で名づけることができる
<ul>
<li>参考：<a href="http://www.okadajp.org/RWiki/?R%E3%81%AE%E9%96%A2%E6%95%B0%E5%AE%9A%E7%BE%A9%E3%81%AE%E5%9F%BA%E6%9C%AC">Rの関数定義の基本</a>(RjpWiki)</li>
</ul>
</li>
</ul>
<div id="p-function-make-ex" class="section level4" number="1.4.2.1">
<h4>
<span class="header-section-number">1.4.2.1</span> 基本例：x + 1でxに入る数字を変えていって結果を出力する<a class="anchor" aria-label="anchor" href="#p-function-make-ex"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>「<code>自分で名づける関数名 &lt;- function(引数){ 計算式やコード }</code>」 で関数を定義できる</li>
<li>関数の引数に数値を入れたら，その数値に1を加算する関数を作成
<ul>
<li>まずここでは，関数名として<code>add_one</code>と名付けたオブジェクトを作成</li>
<li>
<code>function()</code>の()内に，引数として入れる内容を指定する</li>
<li>
<code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code>内に処理したい式やコードを入れる</li>
<li>作成した<code>add_one()</code>関数に引数を入れて実行する</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">add_one</span> <span class="op">&lt;-</span> 
  <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span>
    <span class="va">x</span> <span class="op">+</span> <span class="fl">1</span>
  <span class="op">}</span>

<span class="fu">add_one</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">add_one</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
</div>
<div id="p-function-make-anonymous" class="section level4" number="1.4.2.2">
<h4>
<span class="header-section-number">1.4.2.2</span> 無名関数（anonymous function）<a class="anchor" aria-label="anchor" href="#p-function-make-anonymous"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>このあたりの内容は無名関数（または匿名関数）の記法でよく使われる，ラムダ式(lambda expression)と呼ばれることもある</li>
<li>関数名を定義しなくても実行できる。<code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code>がなくても動く
<ul>
<li>他の関数の中で（例：<code><a href="https://dplyr.tidyverse.org/reference/across.html">across()</a></code>; <a href="mutate.html#mu-across-list">5.4.1</a>参照）使われる際は不要だが，ここだけで実行する場合は<code>function() x + 1</code>部分を<code>()</code>で囲む必要がある</li>
</ul>
</li>
<li>右端の部分の<code>()</code>に引数を入れることで実行できる</li>
</ul>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<ul>
<li>R 4.1.0より，<code>function</code>を省略して<strong>バックスラッシュ<code>\</code>で示せるように</strong>なった</li>
<li>purrr 1.0.0では，従来の<code>~</code>と<code>.x</code>を使った記法から，無名関数の<code>\(x)</code> と<code>x</code>を使う書き方に移行した（参考：<a href="https://www.tidyverse.org/blog/2022/12/purrr-1-0-0/#documentation">purrr 1.0.0 Docmentation</a>）
<ul>
<li>これにより，本書で中心的に扱う繰り返し作業の記法もこれに対応する</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span>\<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
</div>
</div>
</div>
<div id="p-object" class="section level2" number="1.5">
<h2>
<span class="header-section-number">1.5</span> オブジェクト<a class="anchor" aria-label="anchor" href="#p-object"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>Pythonなどの他言語では<strong>変数</strong><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;データフレームの列を変数と呼ぶものとは異なる&lt;/p&gt;"><sup>3</sup></a>と呼ばれるものに該当</li>
<li>計算の結果や，複数の数値や文字など（他にも色々）を1つの文字列に格納することができ，その後のコードで活用できる</li>
<li>
<code>&lt;-</code>の矢印の先にあるのがオブジェクト。RStudioではショートカット<code>alt + -</code>で出せる(Macは<code>Option + -</code>)</li>
<li>この後説明するデータフレームもオブジェクトに入れられる
<ul>
<li>データの少ないミニデータを作る時や，計算結果を格納するときに多用</li>
</ul>
</li>
</ul>
<div id="p-object-ex" class="section level3" number="1.5.1">
<h3>
<span class="header-section-number">1.5.1</span> 例<a class="anchor" aria-label="anchor" href="#p-object-ex"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">+</span> <span class="fl">1</span>
<span class="va">res</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>
<span class="va">res2</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>
<span class="va">res3</span></code></pre></div>
<pre><code>## [1] "a" "b"</code></pre>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># この後は不要なので削除</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">res</span>, <span class="va">res2</span>, <span class="va">res3</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="p-df" class="section level2" number="1.6">
<h2>
<span class="header-section-number">1.6</span> データフレーム<a class="anchor" aria-label="anchor" href="#p-df"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<strong>行</strong>（別名：ケース；オブザベーション；レコード）と<strong>列</strong>（別名：変数；カラム）<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;オブジェクトに該当するものとは異なる。本書ではこちらの意味で「変数」を使用する&lt;/p&gt;"><sup>4</sup></a>が碁盤の目のようになった集まりの形のデータ
<ul>
<li>Excelで表現するのであれば通常1行目に列名が入り、2行目以降が個別のケース（データ）を表す形（Figure<a href="premise.html#fig:dfxl">1.9</a>）。Rのデータフレームでは列名は別途与えられ，1行目からケースが表される（Figure<a href="premise.html#fig:dfr">1.10</a>）</li>
</ul>
</li>
<li>データ解析において便利で分かりやすいため、本書ではデータフレームの形で説明していく
<ul>
<li>Rのモダンな方法では，データの加工や統計処理のプロセスをデータフレームの形で返すことが多い</li>
</ul>
</li>
<li>解析すべきデータがデータフレーム上に整えられているような状態を<strong>tidy</strong>(読み：タイディー，意味：整然)と呼び，データ解析において理想的な形とされている</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:dfxl"></span>
<img src="images/df_xl.png" alt="Excel画面風なイメージ" width="80%"><p class="caption">
Figure 1.9: Excel画面風なイメージ
</p>
</div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:dfr"></span>
<img src="images/dfr.png" alt="Rのデータフレーム(tibble形式)" width="80%"><p class="caption">
Figure 1.10: Rのデータフレーム(tibble形式)
</p>
</div>
<ul>
<li>オブジェクトに格納することで，別のデータフレームを作れる</li>
<li>列単位で取り出すとベクトルになる
<ul>
<li>例：bill_length_mmは次のようなベクトルで表現できる　c(39.1, 39.5, 40.3, NA …)</li>
</ul>
</li>
<li>本書では，データフレームの中でも表示に便利な<strong>tibble</strong>形式を使う
<ul>
<li>デフォルトでは最初の10行が表示されるが，本書では紙面の都合上，表示行数をしぼっている</li>
</ul>
</li>
</ul>
<div id="p-df-main" class="section level3" number="1.6.1">
<h3>
<span class="header-section-number">1.6.1</span> 本書で使う主なデータ例<a class="anchor" aria-label="anchor" href="#p-df-main"><i class="fas fa-link"></i></a>
</h3>
<div id="p-df-main-p" class="section level4" number="1.6.1.1">
<h4>
<span class="header-section-number">1.6.1.1</span> ペンギンデータ<a class="anchor" aria-label="anchor" href="#p-df-main-p"><i class="fas fa-link"></i></a>
</h4>
<div class="inline-figure"><img src="images/penguins_logo.png"></div>
<ul>
<li>
<code>palmerpenguins</code>パッケージのpenguinsデータ（CC0）
<ul>
<li>最初からtibble形式になっている</li>
</ul>
</li>
<li>データフレーム名を打ち込めばそのまま表示できる
<ul>
<li>tibble形式でないデータフレームで大きなものに対して実行すると，Consoleの出力がうまって大変になることもある</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># パッケージが入ってなければ下記実行</span>
<span class="co"># install.packages("palmerpenguins")</span>

<span class="fu">palmerpenguins</span><span class="fu">::</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/reference/penguins.html">penguins</a></span></code></pre></div>
<pre><code>## # A tibble: 344 × 8
##   species island    bill_le…¹ bill_…² flipp…³ body_…⁴ sex    year
##   &lt;fct&gt;   &lt;fct&gt;         &lt;dbl&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt; &lt;fct&gt; &lt;int&gt;
## 1 Adelie  Torgersen      39.1    18.7     181    3750 male   2007
## 2 Adelie  Torgersen      39.5    17.4     186    3800 fema…  2007
## 3 Adelie  Torgersen      40.3    18       195    3250 fema…  2007
## # … with 341 more rows, and abbreviated variable names
## #   ¹​bill_length_mm, ²​bill_depth_mm, ³​flipper_length_mm,
## #   ⁴​body_mass_g</code></pre>
<ul>
<li>tibble形式のデータフレームの出力の見方
<ul>
<li>出力の最上段にある<code>A tibble: 344 x 8</code>で，tibble形式のデータフレーム，344行 × 8列という情報が分かる
<!-- + `Indiv…²` のように，長い変数名は`…`と数字で省略して表示され，フルネームは脚注に数字に対応させて表示される -->
</li>
<li>変数名の下の行にある<code>&lt;fct&gt;</code>, <code>&lt;dbl&gt;</code>, <code>&lt;int&gt;</code>は変数の型を示し，それぞれ因子型，数値型，整数型であることを示している。詳しくは<a href="mutate.html#mu-kata">5.3</a>で説明する
<!-- + データフレーム下の#でコメントアウトされた１行目にある -->
<!-- `... with 334 more rows, and 8 more variables:` -->
<!--   で，さらに334行と8列が非表示であることが分かる -->
<!-- + 非表示になった変数名は -->
<!--  `Culmen Length (mm) <dbl>, Culmen Depth (mm) <dbl>` -->
<!--    のように最下部に表示される -->
</li>
</ul>
</li>
<li>より大きいデータフレームで情報が多い場合の出力例を次に示す</li>
</ul>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">palmerpenguins</span><span class="fu">::</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/reference/penguins_raw.html">penguins_raw</a></span></code></pre></div>
<pre><code>## # A tibble: 344 × 17
##   studyName Sample …¹ Species Region Island Stage Indiv…² Clutc…³
##   &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;  
## 1 PAL0708           1 Adelie… Anvers Torge… Adul… N1A1    Yes    
## 2 PAL0708           2 Adelie… Anvers Torge… Adul… N1A2    Yes    
## 3 PAL0708           3 Adelie… Anvers Torge… Adul… N2A1    Yes    
## # … with 341 more rows, 9 more variables: `Date Egg` &lt;date&gt;,
## #   `Culmen Length (mm)` &lt;dbl&gt;, `Culmen Depth (mm)` &lt;dbl&gt;,
## #   `Flipper Length (mm)` &lt;dbl&gt;, `Body Mass (g)` &lt;dbl&gt;,
## #   Sex &lt;chr&gt;, `Delta 15 N (o/oo)` &lt;dbl&gt;,
## #   `Delta 13 C (o/oo)` &lt;dbl&gt;, Comments &lt;chr&gt;, and abbreviated
## #   variable names ¹​`Sample Number`, ²​`Individual ID`,
## #   ³​`Clutch Completion`</code></pre>
<ul>
<li>
<p>tibble形式のデータフレームの出力の見方</p>
<ul>
<li>
<code>Indiv…²</code> のように，長い変数名は<code>…</code>と数字で省略して表示され，フルネームは脚注に数字に対応させて表示される</li>
<li>データフレーム下の１行目にある
<code>… with 341 more rows, 9 more variables:</code>
で，さらに341行と9列が非表示であることが分かる</li>
<li>非表示になった変数名は
<code>Date Egg &lt;date&gt;, Culmen Length (mm) &lt;dbl&gt;</code>
のように最下部に表示される</li>
</ul>
</li>
<li><p>本書では最初の3行の表示のみに絞っているが，出力されるデータフレームの実行結果はデフォルトで10行表示される。<strong>任意の行数を表示させたい場合</strong>は，<code><a href="https://rdrr.io/r/base/print.html">print()</a></code>関数を使う</p></li>
<li><p>例：最初の15行のみ表示させる</p></li>
</ul>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">palmerpenguins</span><span class="fu">::</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/reference/penguins.html">penguins</a></span>  |&gt;  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 344 × 8
##    species island    bill_l…¹ bill_…² flipp…³ body_…⁴ sex    year
##    &lt;fct&gt;   &lt;fct&gt;        &lt;dbl&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt; &lt;fct&gt; &lt;int&gt;
##  1 Adelie  Torgersen     39.1    18.7     181    3750 male   2007
##  2 Adelie  Torgersen     39.5    17.4     186    3800 fema…  2007
##  3 Adelie  Torgersen     40.3    18       195    3250 fema…  2007
##  4 Adelie  Torgersen     NA      NA        NA      NA &lt;NA&gt;   2007
##  5 Adelie  Torgersen     36.7    19.3     193    3450 fema…  2007
##  6 Adelie  Torgersen     39.3    20.6     190    3650 male   2007
##  7 Adelie  Torgersen     38.9    17.8     181    3625 fema…  2007
##  8 Adelie  Torgersen     39.2    19.6     195    4675 male   2007
##  9 Adelie  Torgersen     34.1    18.1     193    3475 &lt;NA&gt;   2007
## 10 Adelie  Torgersen     42      20.2     190    4250 &lt;NA&gt;   2007
## 11 Adelie  Torgersen     37.8    17.1     186    3300 &lt;NA&gt;   2007
## 12 Adelie  Torgersen     37.8    17.3     180    3700 &lt;NA&gt;   2007
## 13 Adelie  Torgersen     41.1    17.6     182    3200 fema…  2007
## 14 Adelie  Torgersen     38.6    21.2     191    3800 male   2007
## 15 Adelie  Torgersen     34.6    21.1     198    4400 male   2007
## # … with 329 more rows, and abbreviated variable names
## #   ¹​bill_length_mm, ²​bill_depth_mm, ³​flipper_length_mm,
## #   ⁴​body_mass_g</code></pre>
</div>
</div>
</div>
<div id="p-pipe" class="section level2" number="1.7">
<h2>
<span class="header-section-number">1.7</span> |&gt;または%&gt;%（パイプ演算子）<a class="anchor" aria-label="anchor" href="#p-pipe"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>名前は<strong>パイプ</strong>で発音は”<em>and then</em>” （<a href="https://adv-r.hadley.nz/functions.html#function-composition">参照</a>）</li>
<li>コードを読みやすくするための便利な機能を持つ演算子。初めてみた人は全然わからないと思うが，この本を読んでコードを書きはじめてみたらこれなしではいられなくなるくらいお世話になると思う
<ul>
<li>主に使用が想定される場面でざっくりいうと，「このデータフレームに対して<code>|&gt;</code>の後にある関数を適用する」という機能</li>
<li>具体的な使用法は<a href="select.html#select-standard-pipe">2.2.1</a>で解説</li>
<li>最近は特にパッケージを読み込まなくても使える<code>|&gt;</code>(base pipe, native pipe)を使う説明が多くなった。
<ul>
<li>
<code>%&gt;%</code>(magrittr pipe)は<code>tidyverse</code>パッケージを読み込めば使えて，こちらが必要になる特殊なケースもある</li>
</ul>
</li>
</ul>
</li>
<li>RStudioのショートカットは<code>Ctrl + Shift + M</code>(Macは<code>Cmd + Shift + M</code>)。たぶん，RStudio以外でもこのショートカット押してしまうぐらい中毒性がある
<ul>
<li>現時点ではRStudioのデフォルトのショートカットで出るのは<code>%&gt;%</code>だが，<code>|&gt;</code>に切り替えたい場合は，RStudioの<code>Tools &gt; Global Options &gt; Code &gt; Editing &gt; use native pipe operator</code>にチェックを入れる</li>
</ul>
</li>
</ul>
</div>
<div id="p-project" class="section level2" number="1.8">
<h2>
<span class="header-section-number">1.8</span> プロジェクト<a class="anchor" aria-label="anchor" href="#p-project"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>本書の内容では使わなくても問題ないが，自身のデータを読み書きする際には非常に便利なので，解説しておく</li>
<li>データを加工して解析する際に、1つのフォルダ（サブフォルダも含む）の中に関連するデータやコードなどをまとめておき、そのフォルダを<strong>プロジェクト</strong>と設定する
<ul>
<li>これにより、ファイルの読み書きの際の場所指定をいちいち意識しないで作業できるようになる</li>
</ul>
</li>
<li>RStudio画面の右上にProject設定のメニューがある（Figure<a href="premise.html#fig:project">1.11</a>）
<ul>
<li>
<code>Project (None) &gt; New Project &gt; Existing Directory</code>と選び，プロジェクトにしたいフォルダを設定する</li>
</ul>
</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:project"></span>
<img src="images/project.png" alt="プロジェクトの設定" width="256"><p class="caption">
Figure 1.11: プロジェクトの設定
</p>
</div>
</div>
<div id="p-help" class="section level2" number="1.9">
<h2>
<span class="header-section-number">1.9</span> 困ったときは<a class="anchor" aria-label="anchor" href="#p-help"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>関数の使い方，引数の入れ方は大抵忘れるので，ヘルプのexampleを見て思い出す場合が多い
<ul>
<li>コンソールに「<code>?関数名</code>」のように入れて実行する（例：?rename）と右下ペインのHelpタブに情報が出てくる</li>
<li>右下ペインのHelpタブで検索する（Figure<a href="premise.html#fig:help">1.12</a>）</li>
</ul>
</li>
<li>チートシートを見る
<ul>
<li>メニューの<code>Help &gt; Cheat Sheets &gt; Browse Cheat Sheets</code>から掲載サイトに行ける</li>
</ul>
</li>
<li>エラーメッセージを<code>" "</code>で囲んでググる（フレーズ検索）</li>
<li>
<a href="https://github.com/tokyor/r-wakalang">r-wakalang</a>の<code>#r_beginners</code>チャンネルで質問する</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:help"></span>
<img src="images/help.png" alt="ヘルプの確認" width="80%"><p class="caption">
Figure 1.12: ヘルプの確認
</p>
</div>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="index.html">はじめに</a></div>
<div class="next"><a href="select.html"><span class="header-section-number">2</span> 列（変数）を選ぶ：select</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#premise"><span class="header-section-number">1</span> 前提知識</a></li>
<li>
<a class="nav-link" href="#p-howtouse-rst"><span class="header-section-number">1.1</span> RStudioの使い方</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#p-opening"><span class="header-section-number">1.1.1</span> 起動画面</a></li>
<li><a class="nav-link" href="#p-theme"><span class="header-section-number">1.1.2</span> 見た目の変更</a></li>
<li><a class="nav-link" href="#p-howtorun"><span class="header-section-number">1.1.3</span> コードの実行の仕方</a></li>
<li><a class="nav-link" href="#p-utf8"><span class="header-section-number">1.1.4</span> Windowsユーザーにつきものの文字化け対策</a></li>
</ul>
</li>
<li><a class="nav-link" href="#p-howtoread"><span class="header-section-number">1.2</span> 本書に出てくるコード部分の見方</a></li>
<li><a class="nav-link" href="#p-package"><span class="header-section-number">1.3</span> パッケージ</a></li>
<li>
<a class="nav-link" href="#p-function"><span class="header-section-number">1.4</span> 関数</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#p-function-ex"><span class="header-section-number">1.4.1</span> 関数の例</a></li>
<li><a class="nav-link" href="#p-function-make"><span class="header-section-number">1.4.2</span> 【応用編】関数を作る</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#p-object"><span class="header-section-number">1.5</span> オブジェクト</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#p-object-ex"><span class="header-section-number">1.5.1</span> 例</a></li></ul>
</li>
<li>
<a class="nav-link" href="#p-df"><span class="header-section-number">1.6</span> データフレーム</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#p-df-main"><span class="header-section-number">1.6.1</span> 本書で使う主なデータ例</a></li></ul>
</li>
<li><a class="nav-link" href="#p-pipe"><span class="header-section-number">1.7</span> |&gt;または%&gt;%（パイプ演算子）</a></li>
<li><a class="nav-link" href="#p-project"><span class="header-section-number">1.8</span> プロジェクト</a></li>
<li><a class="nav-link" href="#p-help"><span class="header-section-number">1.9</span> 困ったときは</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/izunyan/gisho12.git/blob/master/premise.RMD">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/izunyan/gisho12.git/edit/master/premise.RMD">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>がんばらないデータ加工</strong>: Rによるくり返し作業入門 前編" was written by やわらかクジラ. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
